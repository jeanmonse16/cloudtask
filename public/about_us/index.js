const DUMMY = [
    {
        "iso_31662": "VE-X",
        "estado": "Amazonas",
        "capital": "Puerto Ayacucho",
        "id_estado": 1,
        "municipios": [
            {
                "municipio": "Alto Orinoco",
                "capital": "La Esmeralda",
                "parroquias": [
                    "Alto Orinoco La Esmeralda",
                    "Huachamacare Acanaña",
                    "Marawaka Toky Shamanaña",
                    "Mavaka Mavaka",
                    "Sierra Parima Parimabé"
                ]
            },
            {
                "municipio": "Atabapo",
                "capital": "San Fernando de Atabapo",
                "parroquias": [
                    "Ucata Laja Lisa",
                    "Yapacana Macuruco",
                    "Caname Guarinuma"
                ]
            },
            {
                "municipio": "Atures",
                "capital": "Puerto Ayacucho",
                "parroquias": [
                    "Fernando Girón Tovar",
                    "Luis Alberto Gómez",
                    "Pahueña Limón de Parhueña",
                    "Platanillal Platanillal"
                ]
            },
            {
                "municipio": "Autana",
                "capital": "Isla Ratón",
                "parroquias": [
                    "Samariapo Samariapo",
                    "Sipapo Pendare",
                    "Munduapo Munduapo",
                    "Guayapo San Pedro del Orinoco"
                ]
            },
            {
                "municipio": "Manapiare",
                "capital": "San Juan de Manapiare",
                "parroquias": [
                    "Alto Ventuari Cacurí",
                    "Medio Ventuari Manami",
                    "Bajo Ventuari Marueta"
                ]
            },
            {
                "municipio": "Maroa",
                "capital": "Maroa",
                "parroquias": [
                    "Victorino",
                    "Comunidad"
                ]
            },
            {
                "municipio": "Río Negro",
                "capital": "San Carlos de Río Negro",
                "parroquias": [
                    "Casiquiare Curimacare",
                    "Cocuy",
                    "San Carlos de Río Negro",
                    "Solano Solano"
                ]
            }
        ],
        "ciudades": [
            "Maroa",
            "Puerto Ayacucho",
            "San Fernando de Atabapo"
        ]
    },
    {
        "iso_31662": "VE-B",
        "estado": "Anzoátegui",
        "capital": "Barcelona",
        "id_estado": 2,
        "municipios": [
            {
                "municipio": "Anaco",
                "capital": "Anaco",
                "parroquias": [
                    "Anaco",
                    "San Joaquín"
                ]
            },
            {
                "municipio": "Aragua",
                "capital": "Aragua de Barcelona",
                "parroquias": [
                    "Cachipo",
                    "Aragua de Barcelona"
                ]
            },
            {
                "municipio": "Bolívar",
                "capital": "Barcelona",
                "parroquias": [
                    "Bergatín",
                    "Caigua",
                    "El Carmen.",
                    "El Pilar",
                    "Naricual.",
                    "San Cristóbal"
                ]
            },
            {
                "municipio": "Bruzual",
                "capital": "Clarines",
                "parroquias": [
                    "Clarines",
                    "Guanape",
                    "Sabana de Uchire"
                ]
            },
            {
                "municipio": "Cajigal",
                "capital": "Onoto",
                "parroquias": [
                    "Onoto",
                    "San Pablo"
                ]
            },
            {
                "municipio": "Carvajal",
                "capital": "Valle de Guanape",
                "parroquias": [
                    "Valle de Guanape",
                    "Santa Bárbara"
                ]
            },
            {
                "municipio": "Diego Bautista Urbaneja",
                "capital": "Lechería",
                "parroquias": [
                    "Lechería",
                    "El Morro"
                ]
            },
            {
                "municipio": "Freites",
                "capital": "Cantaura",
                "parroquias": [
                    "Cantaura",
                    "Libertador",
                    "Santa Rosa",
                    "Urica"
                ]
            },
            {
                "municipio": "Guanipa",
                "capital": "San José de Guanipa",
                "parroquias": [
                    "San José de Guanipa"
                ]
            },
            {
                "municipio": "Guanta",
                "capital": "Guanta",
                "parroquias": [
                    "Guanta",
                    "Chorrerón"
                ]
            },
            {
                "municipio": "Independencia",
                "capital": "Soledad",
                "parroquias": [
                    "Mamo",
                    "Soledad"
                ]
            },
            {
                "municipio": "Libertad",
                "capital": "San Mateo",
                "parroquias": [
                    "San Mateo",
                    "El Carito",
                    "Santa Inés",
                    "La Romereña"
                ]
            },
            {
                "municipio": "McGregor",
                "capital": "El Chaparro",
                "parroquias": [
                    "El Chaparro",
                    "Tomás Alfaro",
                    "Calatrava"
                ]
            },
            {
                "municipio": "Miranda",
                "capital": "Pariaguán",
                "parroquias": [
                    "Atapirire",
                    "Boca del Pao",
                    "El Pao",
                    "Pariaguán"
                ]
            },
            {
                "municipio": "Monagas",
                "capital": "Mapire",
                "parroquias": [
                    "Mapire",
                    "Piar",
                    "Santa Clara",
                    "San Diego de Cabrutica",
                    "Uverito",
                    "Zuata"
                ]
            },
            {
                "municipio": "Peñalver",
                "capital": "Puerto Píritu",
                "parroquias": [
                    "Puerto Píritu",
                    "San Miguel",
                    "Sucre"
                ]
            },
            {
                "municipio": "Píritu",
                "capital": "Píritu",
                "parroquias": [
                    "Píritu",
                    "San Francisco"
                ]
            },
            {
                "municipio": "San Juan de Capistrano",
                "capital": "Boca de Uchire",
                "parroquias": [
                    "Boca de Uchire",
                    "Boca de Chávez"
                ]
            },
            {
                "municipio": "Santa Ana",
                "capital": "Santa Ana",
                "parroquias": [
                    "Pueblo Nuevo",
                    "Santa Ana"
                ]
            },
            {
                "municipio": "Simón Rodríguez",
                "capital": "El Tigre",
                "parroquias": [
                    "Edmundo Barrios",
                    "Miguel Otero Silva"
                ]
            },
            {
                "municipio": "Sotillo",
                "capital": "Puerto La Cruz",
                "parroquias": [
                    "Puerto La Cruz",
                    "Pozuelos"
                ]
            }
        ],
        "ciudades": [
            "Anaco",
            "Aragua de Barcelona",
            "Barcelona",
            "Boca de Uchire",
            "Cantaura",
            "Clarines",
            "El Chaparro",
            "El Pao Anzoátegui",
            "El Tigre",
            "El Tigrito",
            "Guanape",
            "Guanta",
            "Lechería",
            "Onoto",
            "Pariaguán",
            "Píritu",
            "Puerto La Cruz",
            "Puerto Píritu",
            "Sabana de Uchire",
            "San Mateo Anzoátegui",
            "San Pablo Anzoátegui",
            "San Tomé",
            "Santa Ana de Anzoátegui",
            "Santa Fe Anzoátegui",
            "Santa Rosa",
            "Soledad",
            "Urica",
            "Valle de Guanape"
        ]
    },
    {
        "iso_31662": "VE-C",
        "estado": "Apure",
        "capital": "San Fernando de Apure",
        "id_estado": 3,
        "municipios": [
            {
                "municipio": "Achaguas",
                "capital": "Achaguas",
                "parroquias": [
                    "Achaguas",
                    "Apurito",
                    "El Yagual",
                    "Guachara",
                    "Mucuritas",
                    "Queseras del medio"
                ]
            },
            {
                "municipio": "Biruaca",
                "capital": "Biruaca",
                "parroquias": [
                    "Biruaca"
                ]
            },
            {
                "municipio": "Muñoz",
                "capital": "Bruzual",
                "parroquias": [
                    "Bruzual",
                    "Mantecal",
                    "Quintero",
                    "Rincón Hondo",
                    "San Vicente"
                ]
            },
            {
                "municipio": "Páez",
                "capital": "Guasdualito",
                "parroquias": [
                    "Guasdualito",
                    "Aramendi",
                    "El Amparo",
                    "San Camilo",
                    "Urdaneta"
                ]
            },
            {
                "municipio": "Pedro Camejo",
                "capital": "San Juan de Payara",
                "parroquias": [
                    "San Juan de Payara",
                    "Codazzi",
                    "Cunaviche"
                ]
            },
            {
                "municipio": "Rómulo Gallegos",
                "capital": "Elorza",
                "parroquias": [
                    "Elorza",
                    "La Trinidad"
                ]
            },
            {
                "municipio": "San Fernando",
                "capital": "San Fernando de Apure",
                "parroquias": [
                    "San Fernando",
                    "El Recreo",
                    "Peñalver",
                    "San Rafael de Atamaica"
                ]
            }
        ],
        "ciudades": [
            "Achaguas",
            "Biruaca",
            "Bruzual",
            "El Amparo",
            "El Nula",
            "Elorza",
            "Guasdualito",
            "Mantecal",
            "Puerto Páez",
            "San Fernando de Apure",
            "San Juan de Payara"
        ]
    },
    {
        "iso_31662": "VE-D",
        "estado": "Aragua",
        "capital": "Maracay",
        "id_estado": 4,
        "municipios": [
            {
                "municipio": "Bolívar",
                "capital": "San Mateo",
                "parroquias": [
                    "Bolívar"
                ]
            },
            {
                "municipio": "Camatagua",
                "capital": "Camatagua",
                "parroquias": [
                    "Camatagua",
                    "Carmen de Cura"
                ]
            },
            {
                "municipio": "Francisco Linares Alcántara",
                "capital": "Santa Rita",
                "parroquias": [
                    "Santa Rita",
                    "Francisco de Miranda",
                    "Moseñor Feliciano González"
                ]
            },
            {
                "municipio": "Girardot",
                "capital": "Maracay",
                "parroquias": [
                    "Pedro José Ovalles",
                    "Joaquín Crespo",
                    "José Casanova Godoy",
                    "Madre María de San José",
                    "Andrés Eloy Blanco",
                    "Los Tacarigua",
                    "Las Delicias",
                    "Choroní"
                ]
            },
            {
                "municipio": "José Ángel Lamas",
                "capital": "Santa Cruz de Aragua",
                "parroquias": [
                    "Santa Cruz"
                ]
            },
            {
                "municipio": "José Félix Ribas",
                "capital": "La Victoria",
                "parroquias": [
                    "José Félix Ribas",
                    "Castor Nieves Ríos",
                    "Las Guacamayas",
                    "Pao de Zárate",
                    "Zuata"
                ]
            },
            {
                "municipio": "José Rafael Revenga",
                "capital": "El Consejo",
                "parroquias": [
                    "José Rafael Revenga"
                ]
            },
            {
                "municipio": "Libertador",
                "capital": "Palo Negro",
                "parroquias": [
                    "Palo Negro",
                    "San Martín de Porres"
                ]
            },
            {
                "municipio": "Mario Briceño Iragorry",
                "capital": "El Limón",
                "parroquias": [
                    "El Limón",
                    "Caña de Azúcar"
                ]
            },
            {
                "municipio": "Ocumare de la Costa de Oro",
                "capital": "Ocumare de la Costa",
                "parroquias": [
                    "Ocumare de la Costa"
                ]
            },
            {
                "municipio": "San Casimiro",
                "capital": "San Casimiro",
                "parroquias": [
                    "San Casimiro",
                    "Güiripa",
                    "Ollas de Caramacate",
                    "Valle Morín"
                ]
            },
            {
                "municipio": "San Sebastián",
                "capital": "San Sebastián de Los Reyes",
                "parroquias": [
                    "San Sebastián"
                ]
            },
            {
                "municipio": "Santiago Mariño",
                "capital": "Turmero",
                "parroquias": [
                    "Turmero",
                    "Arevalo Aponte",
                    "Chuao",
                    "Samán de Güere",
                    "Alfredo Pacheco Miranda"
                ]
            },
            {
                "municipio": "Santos Michelena",
                "capital": "Las Tejerías",
                "parroquias": [
                    "Santos Michelena",
                    "Tiara"
                ]
            },
            {
                "municipio": "Sucre",
                "capital": "Cagua",
                "parroquias": [
                    "Cagua",
                    "Bella Vista"
                ]
            },
            {
                "municipio": "Tovar",
                "capital": "Colonia Tovar",
                "parroquias": [
                    "Tovar"
                ]
            },
            {
                "municipio": "Urdaneta",
                "capital": "Barbacoas",
                "parroquias": [
                    "Urdaneta",
                    "Las Peñitas",
                    "San Francisco de Cara",
                    "Taguay"
                ]
            },
            {
                "municipio": "Zamora",
                "capital": "Villa de Cura",
                "parroquias": [
                    "Zamora",
                    "Magdaleno",
                    "San Francisco de Asís",
                    "Valles de Tucutunemo",
                    "Augusto Mijares"
                ]
            }
        ],
        "ciudades": [
            "Barbacoas",
            "Cagua",
            "Camatagua",
            "Choroní",
            "Colonia Tovar",
            "El Consejo",
            "La Victoria",
            "Las Tejerías",
            "Magdaleno",
            "Maracay",
            "Ocumare de La Costa",
            "Palo Negro",
            "San Casimiro",
            "San Mateo",
            "San Sebastián",
            "Santa Cruz de Aragua",
            "Tocorón",
            "Turmero",
            "Villa de Cura",
            "Zuata"
        ]
    }]


const selectPrincipal = document.getElementById('selectPrincipal')
const selectParroquia = document.getElementById('selectParroquia')
const EMAIL = document.getElementById('email')
const button = document.getElementById('button')

console.log(DUMMY[3])

const municipality = () => {
    selectedState = DUMMY[3]
    console.log(selectedState)
    for(var i = 0; i < selectedState.municipios.length; i++){
        option = document.createElement('option')
        option.value = selectedState.municipios[i].municipio
        option.text = selectedState.municipios[i].municipio
        selectPrincipal.appendChild(option)
    }

    parroquias()
}

const parroquias = () => {
    while(selectParroquia.length != 0){
        deletedOption = selectParroquia.firstChild
        selectParroquia.removeChild(deletedOption)
        delete deletedOption
    }
    
    selectedState = DUMMY[3]
    let index = selectPrincipal.selectedIndex
    let selectedMunicipality = selectedState.municipios[index]
    console.log(selectedMunicipality)
    
    for(var i = 0; i < selectedMunicipality.parroquias.length; i++){
            option = document.createElement('option')
            option.value = selectedMunicipality.parroquias[i]
            option.text = selectedMunicipality.parroquias[i]
            selectParroquia.appendChild(option)
    }
    

}

municipality()

const onChange = () => {
    index = selectPrincipal.selectedIndex
    parroquias()
}

selectPrincipal.addEventListener('change', onChange)
button.addEventListener('click', () => {

    if (!EMAIL.value.includes('@') && !EMAIL.value.includes('.com')) {
        swal.fire('Error', "Debes ingresar un email válido")
        return 0
    } 

    swal.fire('Success', 'Revisa tu correo!, si no te llego un mensaje, contactanos al +58 4243432112', 'success')
})





